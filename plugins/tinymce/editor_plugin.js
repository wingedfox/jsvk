/**
 * $Id$
 * @author Ilya Lebedev <ilya@lebedev.net>
 */
tinyMCE.importPluginLanguagePack('jsvk');var TinyMCE_jsvkPlugin={_loaded:false,_vk_skin:"winxp",_vk_layout:"",_curId:null,getInfo:function(){return{longname:'VirtualKeyboard plugin',author:'Ilya Lebedev AKA WingedFox',authorurl:'http://www.debugger.ru',infourl:'http://www.debugger.ru/projects/virtualkeyboard/',version:"1.0"}},initInstance:function(i){if(this._loaded)return;this._loaded=true;this._vk_skin=tinyMCE.getParam('vk_skin',this._vk_skin);this._vk_layout=tinyMCE.getParam('vk_layout',this._vk_layout);var I=document.createElement('script');I.src=tinyMCE.baseURL+'/plugins/jsvk/jscripts/vk_loader.js?vk_skin='+this._vk_skin+'&vk_layout='+this._vk_layout;I.type="text/javascript";I.charset="UTF-8";document.getElementsByTagName('head')[0].appendChild(I);},getControlHTML:function(i){switch(i){case"jsvk":return tinyMCE.getButtonHTML(i,'lang_jsvk_desc','{$pluginurl}/images/jsvk.gif','mceVirtualKeyboard',true);}return""},execCommand:function(i,I,l,o,O){switch(l){case"mceVirtualKeyboard":if(o){var Q;if(this._curId===i){VirtualKeyboard.close();this._curId=null}else{if(null!=this._curId&&(Q=document.getElementById('VirtualKeyboard_'+this._curId))){VirtualKeyboard.close();}if(!(Q=document.getElementById('VirtualKeyboard_'+i))){Q=document.getElementById(i+"_parent").getElementsByTagName('table')[0];Q.insertRow(Q.rows.length);Q=Q.rows[Q.rows.length-1];Q.id='VirtualKeyboard_'+i;Q.appendChild(document.createElement('td'));}Q=Q.firstChild;VirtualKeyboard.open(i,Q);this._curId=i}}else{alert("execCommand: VirtualKeyboard could not be called with 'user_interface' set to 'false'.");}return true}return false}};tinyMCE.addPlugin("jsvk",TinyMCE_jsvkPlugin);
